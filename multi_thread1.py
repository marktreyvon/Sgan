# 测试多线程性能
import threading as th,time,os

def output_time(t):
    new = time.time()
    compare = new-t
    print('cost: ',compare)
    return compare

def file_operate(num,dir='1.txt'):
    for i in range(num):
        if not i:
            with open(dir,'w') as f:
                f.writelines('1 ')
        else:
            with open(dir,'a') as f:
                f.writelines('1 ')

# normal way
print('normal:')
t = time.time()
for i in range(100):
    file_operate(100,'1'+str(i)+'.txt')
output_time(t)

# use multithreads
print('multitreads:')
t222 = time.time()
t0 = th.Thread(target=file_operate(100,'20.txt'))
t1 = th.Thread(target=file_operate(100,'21.txt'))
t2 = th.Thread(target=file_operate(100,'22.txt'))
t3 = th.Thread(target=file_operate(100,'23.txt'))
t4 = th.Thread(target=file_operate(100,'24.txt'))
t5 = th.Thread(target=file_operate(100,'25.txt'))
t6 = th.Thread(target=file_operate(100,'26.txt'))
t7 = th.Thread(target=file_operate(100,'27.txt'))
t8 = th.Thread(target=file_operate(100,'28.txt'))
t9 = th.Thread(target=file_operate(100,'29.txt'))
t10 = th.Thread(target=file_operate(100,'210.txt'))
t11 = th.Thread(target=file_operate(100,'211.txt'))
t12 = th.Thread(target=file_operate(100,'212.txt'))
t13 = th.Thread(target=file_operate(100,'213.txt'))
t14 = th.Thread(target=file_operate(100,'214.txt'))
t15 = th.Thread(target=file_operate(100,'215.txt'))
t16 = th.Thread(target=file_operate(100,'216.txt'))
t17 = th.Thread(target=file_operate(100,'217.txt'))
t18 = th.Thread(target=file_operate(100,'218.txt'))
t19 = th.Thread(target=file_operate(100,'219.txt'))
t20 = th.Thread(target=file_operate(100,'220.txt'))
t21 = th.Thread(target=file_operate(100,'221.txt'))
t22 = th.Thread(target=file_operate(100,'222.txt'))
t23 = th.Thread(target=file_operate(100,'223.txt'))
t24 = th.Thread(target=file_operate(100,'224.txt'))
t25 = th.Thread(target=file_operate(100,'225.txt'))
t26 = th.Thread(target=file_operate(100,'226.txt'))
t27 = th.Thread(target=file_operate(100,'227.txt'))
t28 = th.Thread(target=file_operate(100,'228.txt'))
t29 = th.Thread(target=file_operate(100,'229.txt'))
t30 = th.Thread(target=file_operate(100,'230.txt'))
t31 = th.Thread(target=file_operate(100,'231.txt'))
t32 = th.Thread(target=file_operate(100,'232.txt'))
t33 = th.Thread(target=file_operate(100,'233.txt'))
t34 = th.Thread(target=file_operate(100,'234.txt'))
t35 = th.Thread(target=file_operate(100,'235.txt'))
t36 = th.Thread(target=file_operate(100,'236.txt'))
t37 = th.Thread(target=file_operate(100,'237.txt'))
t38 = th.Thread(target=file_operate(100,'238.txt'))
t39 = th.Thread(target=file_operate(100,'239.txt'))
t40 = th.Thread(target=file_operate(100,'240.txt'))
t41 = th.Thread(target=file_operate(100,'241.txt'))
t42 = th.Thread(target=file_operate(100,'242.txt'))
t43 = th.Thread(target=file_operate(100,'243.txt'))
t44 = th.Thread(target=file_operate(100,'244.txt'))
t45 = th.Thread(target=file_operate(100,'245.txt'))
t46 = th.Thread(target=file_operate(100,'246.txt'))
t47 = th.Thread(target=file_operate(100,'247.txt'))
t48 = th.Thread(target=file_operate(100,'248.txt'))
t49 = th.Thread(target=file_operate(100,'249.txt'))
t50 = th.Thread(target=file_operate(100,'250.txt'))
t51 = th.Thread(target=file_operate(100,'251.txt'))
t52 = th.Thread(target=file_operate(100,'252.txt'))
t53 = th.Thread(target=file_operate(100,'253.txt'))
t54 = th.Thread(target=file_operate(100,'254.txt'))
t55 = th.Thread(target=file_operate(100,'255.txt'))
t56 = th.Thread(target=file_operate(100,'256.txt'))
t57 = th.Thread(target=file_operate(100,'257.txt'))
t58 = th.Thread(target=file_operate(100,'258.txt'))
t59 = th.Thread(target=file_operate(100,'259.txt'))
t60 = th.Thread(target=file_operate(100,'260.txt'))
t61 = th.Thread(target=file_operate(100,'261.txt'))
t62 = th.Thread(target=file_operate(100,'262.txt'))
t63 = th.Thread(target=file_operate(100,'263.txt'))
t64 = th.Thread(target=file_operate(100,'264.txt'))
t65 = th.Thread(target=file_operate(100,'265.txt'))
t66 = th.Thread(target=file_operate(100,'266.txt'))
t67 = th.Thread(target=file_operate(100,'267.txt'))
t68 = th.Thread(target=file_operate(100,'268.txt'))
t69 = th.Thread(target=file_operate(100,'269.txt'))
t70 = th.Thread(target=file_operate(100,'270.txt'))
t71 = th.Thread(target=file_operate(100,'271.txt'))
t72 = th.Thread(target=file_operate(100,'272.txt'))
t73 = th.Thread(target=file_operate(100,'273.txt'))
t74 = th.Thread(target=file_operate(100,'274.txt'))
t75 = th.Thread(target=file_operate(100,'275.txt'))
t76 = th.Thread(target=file_operate(100,'276.txt'))
t77 = th.Thread(target=file_operate(100,'277.txt'))
t78 = th.Thread(target=file_operate(100,'278.txt'))
t79 = th.Thread(target=file_operate(100,'279.txt'))
t80 = th.Thread(target=file_operate(100,'280.txt'))
t81 = th.Thread(target=file_operate(100,'281.txt'))
t82 = th.Thread(target=file_operate(100,'282.txt'))
t83 = th.Thread(target=file_operate(100,'283.txt'))
t84 = th.Thread(target=file_operate(100,'284.txt'))
t85 = th.Thread(target=file_operate(100,'285.txt'))
t86 = th.Thread(target=file_operate(100,'286.txt'))
t87 = th.Thread(target=file_operate(100,'287.txt'))
t88 = th.Thread(target=file_operate(100,'288.txt'))
t89 = th.Thread(target=file_operate(100,'289.txt'))
t90 = th.Thread(target=file_operate(100,'290.txt'))
t91 = th.Thread(target=file_operate(100,'291.txt'))
t92 = th.Thread(target=file_operate(100,'292.txt'))
t93 = th.Thread(target=file_operate(100,'293.txt'))
t94 = th.Thread(target=file_operate(100,'294.txt'))
t95 = th.Thread(target=file_operate(100,'295.txt'))
t96 = th.Thread(target=file_operate(100,'296.txt'))
t97 = th.Thread(target=file_operate(100,'297.txt'))
t98 = th.Thread(target=file_operate(100,'298.txt'))
t99 = th.Thread(target=file_operate(100,'299.txt'))
t0.start()
t1.start()
t2.start()
t3.start()
t4.start()
t5.start()
t6.start()
t7.start()
t8.start()
t9.start()
t10.start()
t11.start()
t12.start()
t13.start()
t14.start()
t15.start()
t16.start()
t17.start()
t18.start()
t19.start()
t20.start()
t21.start()
t22.start()
t23.start()
t24.start()
t25.start()
t26.start()
t27.start()
t28.start()
t29.start()
t30.start()
t31.start()
t32.start()
t33.start()
t34.start()
t35.start()
t36.start()
t37.start()
t38.start()
t39.start()
t40.start()
t41.start()
t42.start()
t43.start()
t44.start()
t45.start()
t46.start()
t47.start()
t48.start()
t49.start()
t50.start()
t51.start()
t52.start()
t53.start()
t54.start()
t55.start()
t56.start()
t57.start()
t58.start()
t59.start()
t60.start()
t61.start()
t62.start()
t63.start()
t64.start()
t65.start()
t66.start()
t67.start()
t68.start()
t69.start()
t70.start()
t71.start()
t72.start()
t73.start()
t74.start()
t75.start()
t76.start()
t77.start()
t78.start()
t79.start()
t80.start()
t81.start()
t82.start()
t83.start()
t84.start()
t85.start()
t86.start()
t87.start()
t88.start()
t89.start()
t90.start()
t91.start()
t92.start()
t93.start()
t94.start()
t95.start()
t96.start()
t97.start()
t98.start()
t99.start()
output_time(t222)